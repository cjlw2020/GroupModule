---
title: "GroupModule"
author: "cjlw2020"
date: "11/22/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
#Import LIDAR data
##Download packages "lidR" and "raster"
```{r}
library(lidR)
library(raster)
library(sf)
library(ggplot2)
```
##Get raw LIDER data into R
```{r}
setwd("C:/Users/clint/Desktop/AN597_Project/Group/Lab4Data/Lab4_data/USGS_LPC_MA_Sndy_CMPG_2013_19TCG255905_LAS_2015")
las <- readLAS("USGS_LPC_MA_Sndy_CMPG_2013_19TCG255905_LAS_2015.las")
plot(las)
```
#Transistion LIDER data to DEM
```{r}
dtm2 <-  grid_terrain(las, algorithm = tin())
plot(dtm2)
raster::plot(dtm2, col = height.colors(50)) #just different colors
las2 <- lasnormalize(las, dtm2) #don't know if this does anything
```
##Set new Working directory untill true DSM is created. Get a ##Processed DSM file into R
```{r}
setwd("C:/Users/clint/Desktop/AN597_Project/Group/Lab4Data/Outputs_fromLab4")
dsm <- raster("bu_dsm.tif")
plot(dsm)
```
#Create a hillshade from DSM
```{r}
slope  <- terrain(dsm, opt='slope')
aspect <- terrain(dsm, opt='aspect')
hill   <- hillShade(slope, aspect, 45, 120)
plot(hill, col=grey(0:100/100), legend=FALSE, main='Boston University')
plot(dsm, col=rainbow(25, alpha=0.35), add=TRUE)
```
#Import Building shp files (requiors path)
```{r}
BU_buildings_shp <- st_read("building_structures_bu.shp")
BU_builidings <- ggplot() + 
  geom_sf(data = BU_buildings_shp, size = 3, color = "cyan1", fill = "cyan1") + 
  ggtitle("BU Buildings") + 
  coord_sf()
plot(BU_builidings)
```

