---
title: "GroupModule"
author: "cjlw2020"
date: "11/22/2019"
output:
  pdf_document: default
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
#Import LIDAR data
##Download packages "lidR" and "raster"
```{r}
library(lidR)
library(raster)
library(sf)
library(ggplot2)
library(rgeos)
library(mapview)
```
##Get raw LIDER data into R
```{r}
setwd("C:/Users/clint/Desktop/Stuff")
las <- readLAS("USGS_LPC_MA_Sndy_CMPG_2013_19TCG255905_LAS_2015.las")
plot(las)
```
#Transistion LIDER data to DEM
```{r}
dtm2 <-  grid_terrain(las, algorithm = tin())
plot(dtm2)
raster::plot(dtm2, col = height.colors(50)) #just different colors
las2 <- lasnormalize(las, dtm2) #don't know if this does anything
```
#Convert to DSM
```{r}
dsm1 <- grid_canopy(las, res = 1, dsmtin())
col <- height.colors(100)
plot(dsm1, col = col)
```
#Get a processed DSM file into R
```{r}
dsm <- raster("bu_dsm.tif")
plot(dsm)
```
#Create a hillshade from DSM
```{r}
slope  <- terrain(dsm, opt='slope')
aspect <- terrain(dsm, opt='aspect')
hill   <- hillShade(slope, aspect, 45, 120)
plot(hill, col=grey(0:100/100), legend=FALSE, main='Boston University')
plot(dsm, col=rainbow(25, alpha=0.35), add=TRUE)
```
#Import Building shp files (requiors path)
```{r}
BU_buildings_shp <- st_read("building_structures_bu.shp")
BU_builidings <- ggplot() + 
  geom_sf(data = BU_buildings_shp, size = 0.5, color = "black", fill = "cyan1") + 
  ggtitle("BU Buildings") + 
  coord_sf()
plot(BU_builidings)
```
#Plot Vector File on Raster #Not alligned
```{r}
plot(hill, col=grey(0:100/100), legend=FALSE, main ='Boston University')
plot(BU_builidings,
     add = TRUE)
plot(dsm, col=rainbow(25, alpha=0.35), add=TRUE)
```

